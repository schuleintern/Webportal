\hypertarget{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin}{}\section{Sabre\textbackslash{}Cal\+D\+AV\textbackslash{}Sharing\+Plugin Klassenreferenz}
\label{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin}\index{Sabre\textbackslash{}\+Cal\+D\+A\+V\textbackslash{}\+Sharing\+Plugin@{Sabre\textbackslash{}\+Cal\+D\+A\+V\textbackslash{}\+Sharing\+Plugin}}
Klassendiagramm für Sabre\textbackslash{}Cal\+D\+AV\textbackslash{}Sharing\+Plugin\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin}
\end{center}
\end{figure}
\subsection*{Öffentliche Methoden}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_aa6f5249f65536d78fd78a900e434821d}{get\+Features}} ()
\item 
\mbox{\hyperlink{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_ac77288e24718a4705cd9f85388528852}{get\+Plugin\+Name}} ()
\item 
\mbox{\hyperlink{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_aac2f382d65ac97439e5d2ffdecad3866}{initialize}} (\mbox{\hyperlink{class_sabre_1_1_d_a_v_1_1_server}{D\+A\+V\textbackslash{}\+Server}} \$server)
\item 
\mbox{\hyperlink{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a1b9cebb0c83ae34821f5b6c4aec35ec0}{prop\+Find\+Early}} (\mbox{\hyperlink{class_sabre_1_1_d_a_v_1_1_prop_find}{D\+A\+V\textbackslash{}\+Prop\+Find}} \$prop\+Find, \mbox{\hyperlink{interface_sabre_1_1_d_a_v_1_1_i_node}{D\+A\+V\textbackslash{}\+I\+Node}} \$node)
\item 
\mbox{\hyperlink{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a20206c3dd48d8b548ac80a26fae3a191}{prop\+Find\+Late}} (\mbox{\hyperlink{class_sabre_1_1_d_a_v_1_1_prop_find}{D\+A\+V\textbackslash{}\+Prop\+Find}} \$prop\+Find, \mbox{\hyperlink{interface_sabre_1_1_d_a_v_1_1_i_node}{D\+A\+V\textbackslash{}\+I\+Node}} \$node)
\item 
\mbox{\hyperlink{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a39f5fb9a975937bafb98ca3d5da548b5}{prop\+Patch}} (\$path, \mbox{\hyperlink{class_sabre_1_1_d_a_v_1_1_prop_patch}{D\+A\+V\textbackslash{}\+Prop\+Patch}} \$prop\+Patch)
\item 
\mbox{\hyperlink{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a514b978319d5e5e9c787c2f8c4441fb4}{http\+Post}} (\mbox{\hyperlink{interface_sabre_1_1_h_t_t_p_1_1_request_interface}{Request\+Interface}} \$request, \mbox{\hyperlink{interface_sabre_1_1_h_t_t_p_1_1_response_interface}{Response\+Interface}} \$response)
\item 
\mbox{\hyperlink{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_aacea1dc5415fcb7f9da345e8511df024}{get\+Plugin\+Info}} ()
\end{DoxyCompactItemize}
\subsection*{Geschützte Attribute}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a49b95f9c8f8e6523a3b0ae162d1268f5}\label{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a49b95f9c8f8e6523a3b0ae162d1268f5}} 
{\bfseries \$server}
\end{DoxyCompactItemize}


\subsection{Ausführliche Beschreibung}
This plugin implements support for caldav sharing.

This spec is defined at\+: \href{http://svn.calendarserver.org/repository/calendarserver/CalendarServer/trunk/doc/Extensions/caldav-sharing.txt}{\tt http\+://svn.\+calendarserver.\+org/repository/calendarserver/\+Calendar\+Server/trunk/doc/\+Extensions/caldav-\/sharing.\+txt}

See\+: Sabre for all the documentation.

\mbox{\hyperlink{class_note}{Note}}\+: This feature is experimental, and may change in between different Sabre\+D\+AV versions.

\begin{DoxyCopyright}{Copyright}
Copyright (C) fruux GmbH (\href{https://fruux.com/}{\tt https\+://fruux.\+com/}) 
\end{DoxyCopyright}
\begin{DoxyAuthor}{Autor}
Evert Pot (\href{http://evertpot.com/}{\tt http\+://evertpot.\+com/})  \href{http://sabre.io/license/}{\tt http\+://sabre.\+io/license/} Modified B\+SD License 
\end{DoxyAuthor}


Definiert in Zeile 26 der Datei Sharing\+Plugin.\+php.



\subsection{Dokumentation der Elementfunktionen}
\mbox{\Hypertarget{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_aa6f5249f65536d78fd78a900e434821d}\label{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_aa6f5249f65536d78fd78a900e434821d}} 
\index{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}!get\+Features@{get\+Features}}
\index{get\+Features@{get\+Features}!Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}}
\subsubsection{\texorpdfstring{get\+Features()}{getFeatures()}}
{\footnotesize\ttfamily Sabre\textbackslash{}\+Cal\+D\+A\+V\textbackslash{}\+Sharing\+Plugin\+::get\+Features (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

This method should return a list of server-\/features.

This is for example \textquotesingle{}versioning\textquotesingle{} and is added to the D\+AV\+: header in an O\+P\+T\+I\+O\+NS response.

\begin{DoxyReturn}{Rückgabe}
array 
\end{DoxyReturn}


Definiert in Zeile 43 der Datei Sharing\+Plugin.\+php.

\mbox{\Hypertarget{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_aacea1dc5415fcb7f9da345e8511df024}\label{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_aacea1dc5415fcb7f9da345e8511df024}} 
\index{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}!get\+Plugin\+Info@{get\+Plugin\+Info}}
\index{get\+Plugin\+Info@{get\+Plugin\+Info}!Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}}
\subsubsection{\texorpdfstring{get\+Plugin\+Info()}{getPluginInfo()}}
{\footnotesize\ttfamily Sabre\textbackslash{}\+Cal\+D\+A\+V\textbackslash{}\+Sharing\+Plugin\+::get\+Plugin\+Info (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Returns a bunch of meta-\/data about the plugin.

Providing this information is optional, and is mainly displayed by the Browser plugin.

The description key in the returned array may contain html and will not be sanitized.

\begin{DoxyReturn}{Rückgabe}
array 
\end{DoxyReturn}


Definiert in Zeile 392 der Datei Sharing\+Plugin.\+php.

\mbox{\Hypertarget{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_ac77288e24718a4705cd9f85388528852}\label{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_ac77288e24718a4705cd9f85388528852}} 
\index{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}!get\+Plugin\+Name@{get\+Plugin\+Name}}
\index{get\+Plugin\+Name@{get\+Plugin\+Name}!Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}}
\subsubsection{\texorpdfstring{get\+Plugin\+Name()}{getPluginName()}}
{\footnotesize\ttfamily Sabre\textbackslash{}\+Cal\+D\+A\+V\textbackslash{}\+Sharing\+Plugin\+::get\+Plugin\+Name (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Returns a plugin name.

Using this name other plugins will be able to access other plugins using Sabre\+::get\+Plugin

\begin{DoxyReturn}{Rückgabe}
string 
\end{DoxyReturn}


Definiert in Zeile 57 der Datei Sharing\+Plugin.\+php.

\mbox{\Hypertarget{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a514b978319d5e5e9c787c2f8c4441fb4}\label{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a514b978319d5e5e9c787c2f8c4441fb4}} 
\index{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}!http\+Post@{http\+Post}}
\index{http\+Post@{http\+Post}!Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}}
\subsubsection{\texorpdfstring{http\+Post()}{httpPost()}}
{\footnotesize\ttfamily Sabre\textbackslash{}\+Cal\+D\+A\+V\textbackslash{}\+Sharing\+Plugin\+::http\+Post (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{interface_sabre_1_1_h_t_t_p_1_1_request_interface}{Request\+Interface}}}]{\$request,  }\item[{\mbox{\hyperlink{interface_sabre_1_1_h_t_t_p_1_1_response_interface}{Response\+Interface}}}]{\$response }\end{DoxyParamCaption})}

We intercept this to handle P\+O\+ST requests on calendars.


\begin{DoxyParams}[1]{Parameter}
Request\+Interface & {\em \$request} & \\
\hline
Response\+Interface & {\em \$response} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
null$\vert$bool 
\end{DoxyReturn}


Definiert in Zeile 228 der Datei Sharing\+Plugin.\+php.

\mbox{\Hypertarget{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_aac2f382d65ac97439e5d2ffdecad3866}\label{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_aac2f382d65ac97439e5d2ffdecad3866}} 
\index{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}!initialize@{initialize}}
\index{initialize@{initialize}!Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}}
\subsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily Sabre\textbackslash{}\+Cal\+D\+A\+V\textbackslash{}\+Sharing\+Plugin\+::initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_sabre_1_1_d_a_v_1_1_server}{D\+A\+V\textbackslash{}\+Server}}}]{\$server }\end{DoxyParamCaption})}

This initializes the plugin.

This function is called by Sabre, after add\+Plugin is called.

This method should set up the required event subscriptions.


\begin{DoxyParams}[1]{Parameter}
D\+A\+V\textbackslash{}\+Server & {\em \$server} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
void 
\end{DoxyReturn}


Definiert in Zeile 74 der Datei Sharing\+Plugin.\+php.

\mbox{\Hypertarget{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a1b9cebb0c83ae34821f5b6c4aec35ec0}\label{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a1b9cebb0c83ae34821f5b6c4aec35ec0}} 
\index{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}!prop\+Find\+Early@{prop\+Find\+Early}}
\index{prop\+Find\+Early@{prop\+Find\+Early}!Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}}
\subsubsection{\texorpdfstring{prop\+Find\+Early()}{propFindEarly()}}
{\footnotesize\ttfamily Sabre\textbackslash{}\+Cal\+D\+A\+V\textbackslash{}\+Sharing\+Plugin\+::prop\+Find\+Early (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_sabre_1_1_d_a_v_1_1_prop_find}{D\+A\+V\textbackslash{}\+Prop\+Find}}}]{\$prop\+Find,  }\item[{\mbox{\hyperlink{interface_sabre_1_1_d_a_v_1_1_i_node}{D\+A\+V\textbackslash{}\+I\+Node}}}]{\$node }\end{DoxyParamCaption})}

This event is triggered when properties are requested for a certain node.

This allows us to inject any properties early.


\begin{DoxyParams}[1]{Parameter}
D\+A\+V\textbackslash{}\+Prop\+Find & {\em \$prop\+Find} & \\
\hline
D\+A\+V\textbackslash{}\+I\+Node & {\em \$node} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
void 
\end{DoxyReturn}


Definiert in Zeile 109 der Datei Sharing\+Plugin.\+php.

\mbox{\Hypertarget{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a20206c3dd48d8b548ac80a26fae3a191}\label{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a20206c3dd48d8b548ac80a26fae3a191}} 
\index{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}!prop\+Find\+Late@{prop\+Find\+Late}}
\index{prop\+Find\+Late@{prop\+Find\+Late}!Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}}
\subsubsection{\texorpdfstring{prop\+Find\+Late()}{propFindLate()}}
{\footnotesize\ttfamily Sabre\textbackslash{}\+Cal\+D\+A\+V\textbackslash{}\+Sharing\+Plugin\+::prop\+Find\+Late (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_sabre_1_1_d_a_v_1_1_prop_find}{D\+A\+V\textbackslash{}\+Prop\+Find}}}]{\$prop\+Find,  }\item[{\mbox{\hyperlink{interface_sabre_1_1_d_a_v_1_1_i_node}{D\+A\+V\textbackslash{}\+I\+Node}}}]{\$node }\end{DoxyParamCaption})}

This method is triggered {\itshape after} all properties have been retrieved. This allows us to inject the correct resourcetype for calendars that have been shared.


\begin{DoxyParams}[1]{Parameter}
D\+A\+V\textbackslash{}\+Prop\+Find & {\em \$prop\+Find} & \\
\hline
D\+A\+V\textbackslash{}\+I\+Node & {\em \$node} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
void 
\end{DoxyReturn}


Definiert in Zeile 158 der Datei Sharing\+Plugin.\+php.

\mbox{\Hypertarget{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a39f5fb9a975937bafb98ca3d5da548b5}\label{class_sabre_1_1_cal_d_a_v_1_1_sharing_plugin_a39f5fb9a975937bafb98ca3d5da548b5}} 
\index{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}!prop\+Patch@{prop\+Patch}}
\index{prop\+Patch@{prop\+Patch}!Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin@{Sabre\+::\+Cal\+D\+A\+V\+::\+Sharing\+Plugin}}
\subsubsection{\texorpdfstring{prop\+Patch()}{propPatch()}}
{\footnotesize\ttfamily Sabre\textbackslash{}\+Cal\+D\+A\+V\textbackslash{}\+Sharing\+Plugin\+::prop\+Patch (\begin{DoxyParamCaption}\item[{}]{\$path,  }\item[{\mbox{\hyperlink{class_sabre_1_1_d_a_v_1_1_prop_patch}{D\+A\+V\textbackslash{}\+Prop\+Patch}}}]{\$prop\+Patch }\end{DoxyParamCaption})}

This method is trigged when a user attempts to update a node\textquotesingle{}s properties.

A previous draft of the sharing spec stated that it was possible to use P\+R\+O\+P\+P\+A\+T\+CH to remove \textquotesingle{}shared-\/owner\textquotesingle{} from the resourcetype, thus unsharing the calendar.

Even though this is no longer in the current spec, we keep this around because OS X 10.\+7 may still make use of this feature.


\begin{DoxyParams}[1]{Parameter}
string & {\em \$path} & \\
\hline
D\+A\+V\textbackslash{}\+Prop\+Patch & {\em \$prop\+Patch} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
void 
\end{DoxyReturn}


Definiert in Zeile 197 der Datei Sharing\+Plugin.\+php.



Die Dokumentation für diese Klasse wurde erzeugt aufgrund der Datei\+:\begin{DoxyCompactItemize}
\item 
Upload/framework/lib/webdav/\+Sabre\+D\+A\+V/vendor/sabre/dav/lib/\+Cal\+D\+A\+V/Sharing\+Plugin.\+php\end{DoxyCompactItemize}
